(()=>{"use strict";var __webpack_modules__={794:()=>{eval('\n;// ./src/modules/functions.js\n  // преобразование даты к виду ДД.ММ.ГГГГ\n  const convertDate = (data) => {\n      let date = new Date(data)\n\n      let day = date.getDate()\n      if (day < 10) {\n          day = \'0\' + day\n      }\n      let month = date.getMonth() + 1\n      if (month < 10) {\n          month = \'0\' + month\n      }\n      let year = date.getFullYear()\n\n      return  day + \'.\' + month + \'.\' + year\n  }\n\n\n  // вычисление номера недели (четная - нечетная)\n  const getWeek = (current, start) => {\n      let currentDate = new Date(current)\n      let startDate = new Date(start)\n\n      let dayOfWeekOfStartDate = startDate.getDay()\n      if (dayOfWeekOfStartDate == 0) dayOfWeekOfStartDate = 7\n\n      let numberOfDays = Math.floor((currentDate - startDate) / (24 * 60 * 60 * 1000)) + 1\n      let weekNumber = Math.ceil(( numberOfDays + dayOfWeekOfStartDate - 1) / 7)\n\n      return weekNumber % 2 === 0 ? \'even\' : \'odd\'\n  }\n\n\n  // получение названия дня недели\n  function getWeekDayAbbr(data) {\n      let date = new Date(data)\n\n      let days = [\'н\', \'пн\', \'в\', \'c\', \'ч\', \'пт\', \'сб\']\n\n      return days[date.getDay()]\n  }\n\n  // получение названия месяца\n  const getMonthName = (date) => {\n      const months = [\'січня\', \'лютого\', \'березня\', \'квітня\', \'травня\', \'червня\', \'липня\', \'серпня\', \'вересня\', \'жовтня\', \'листопада\', \'грудня\']\n\n      return months[date.getMonth()]\n  }\n\n\n;// ./src/modules/holidays/vacations.js\n\n\nconst vacations = [\n  {\n    name: "fall",\n    startDate: "2024-10-28",\n    endDate: "2024-11-03",\n    dates: [],\n  },\n  {\n    name: "winter",\n    startDate: "2024-12-30",\n    endDate: "2025-01-12",\n    dates: [],\n  },\n  {\n    name: "spring",\n    startDate: "2025-03-24",\n    endDate: "2025-03-30",\n    dates: [],\n  },\n]\n\n// заполнение массива дат для определенных каникул\nconst createArrayDates = (vacationName) => {\n  let foundVacation = vacations.find((item) => item.name == vacationName)\n  foundVacation.dates = []\n  for (let i = Date.parse(foundVacation.startDate); i <= Date.parse(foundVacation.endDate);i = i + 1000 * 3600 * 24\n  ) {\n    foundVacation.dates.push(i)\n  }\n}\n\ncreateArrayDates("fall")\ncreateArrayDates("winter")\ncreateArrayDates("spring")\n\n//===== Формирование массива дат всех каникул ===========\nlet arrVacations = []\nconst createArrVacations = () => {\n  arrVacations = []\n  vacations.forEach((item) => {\n    arrVacations = arrVacations.concat(item.dates)\n  })\n}\n\ncreateArrVacations()\n\n// выаод каникул на странице\nfor (let item of vacations) {\n  document.getElementById("vacations").innerHTML += `\n        <div class="d-flex justify-content-between align-items-center mb-2">\n            <div>з <span>${convertDate(item.startDate)}</span> до <span>${convertDate(item.endDate)}</span> </div>\n            <div>\n                <button type="button" class="btn btn-primary" name="btnEditVacation" data-vacation-name=\'${item.name}\' data-bs-toggle="modal" data-bs-target="#modalEditVacationDates">\n                    <i class="bi bi-pencil-square"></i>\n                </button>\n                <button type="button" class="btn btn-primary" name="btnDeleteVacation" data-vacation-name=\'${item.name}\' data-bs-toggle="modal" data-bs-target="#modalDeleteVacation">\n                    <i class="bi bi-x-square"></i>\n                </button>\n            </div>\n        </div>\n    `\n}\n\n\n;// ./src/modules/holidays/vacation-delete.js\n\n\nlet vacationName\nlet divVacation\n\nconst clickBtnDeleteVacation = () => {\n  for (let btn of document.getElementsByName("btnDeleteVacation")) {\n    btn.addEventListener("click", () => {\n      vacationName = btn.dataset.vacationName\n      divVacation = btn.parentElement.parentElement\n    })\n  }\n}\nclickBtnDeleteVacation()\n\nconst deleteVacation = (vacationName) => {\n  let foundVacation = vacations.findIndex((item) => item.name == vacationName)\n  vacations.splice(foundVacation, 1)\n  divVacation.remove()\n}\n\ndocument.getElementById("btnConfirmDeleteVacation").addEventListener("click", () => {\n    deleteVacation(vacationName)\n    createArrVacations()\n  })\n\n\n\n;// ./src/modules/holidays/vacation-edit.js\n\n\n\nconst editVacationDates = (vacationName, startDate, endDate, displayVacationStartDate, displayVacationEndDate) => {\n    let foundVacation = vacations.find(item => item.name == vacationName)\n    foundVacation.startDate = startDate\n    foundVacation.endDate = endDate\n    displayVacationStartDate.innerText = convertDate(startDate)\n    displayVacationEndDate.innerText = convertDate(endDate)\n    createArrayDates(vacationName)\n    createArrVacations()\n}\n;// ./src/modules/holidays/vacation-add.js\n\n\n\nconst addNewVacation = (vacationName, startDate, endDate) => {\n\n    vacations.push({\n        name: vacationName,\n        startDate: startDate,\n        endDate: endDate,\n        dates: []\n    })\n\n    document.getElementById(\'vacations\').innerHTML += `\n        <div class="d-flex justify-content-between align-items-center mb-2">\n            <div>з <span>${convertDate(startDate)}</span> до <span>${convertDate(endDate)}</span> </div>\n            <div>\n                <button type="button" class="btn btn-primary" name="btnEditVacation" data-vacation-name=\'${vacationName}\' data-bs-toggle="modal" data-bs-target="#modalEditVacationDates">\n                    <i class="bi bi-pencil-square"></i>\n                </button>\n                <button type="button" class="btn btn-primary" name="btnDeleteVacation" data-vacation-name=\'${vacationName}\' data-bs-toggle="modal" data-bs-target="#modalDeleteVacation">\n                    <i class="bi bi-x-square"></i>\n                </button>\n            </div>\n        </div>\n    `\n    createArrayDates(vacationName)\n    createArrVacations()\n}\n;// ./src/modules/holidays/modal-edit-vacations.js\n\n\n\n\n\nconst editVacations = () => {\n  const modalEditVacationDates = new bootstrap.Modal("#modalEditVacationDates")\n  const formEditVacationDates = document.getElementById("formEditVacationDates")\n\n  let vacationName\n  let newVacationName = 0\n  let displayVacationStartDate\n  let displayVacationEndDate\n  let flag\n\n  const clickBtnEditVacation = () => {\n    for (let btn of document.getElementsByName("btnEditVacation")) {\n      btn.addEventListener("click", () => {\n        flag = "edit"\n        vacationName = btn.dataset.vacationName\n        displayVacationStartDate = btn.parentElement.previousElementSibling.firstElementChild\n        displayVacationEndDate = btn.parentElement.previousElementSibling.lastElementChild\n\n        let foundVacation = vacations.find((item) => item.name == vacationName)\n        formEditVacationDates[0].value = foundVacation.startDate\n        formEditVacationDates[1].value = foundVacation.endDate\n      })\n    }\n  }\n  clickBtnEditVacation()\n\n  document.getElementById("btnAddVacation").addEventListener("click", () => {\n    flag = "add"\n    newVacationName ++\n    vacationName = newVacationName\n  })\n\n  // действия при закрытии модального окна без сохранения изменений\n  modalEditVacationDates._element.addEventListener("hidden.bs.modal", (e) => {\n    formEditVacationDates.reset()\n    formEditVacationDates.classList.remove("was-validated")\n    document.querySelector(".validationRange").classList.add("d-none")\n    for (let item of formEditVacationDates.inputVacationDate) {\n      item.classList.remove("is-invalid")\n      item.classList.remove("is-valid")\n    }\n  })\n\n  // проверка ввода правильного диапазона дат\n  let validationRange = true\n  for (let item of formEditVacationDates.inputVacationDate) {\n    item.addEventListener("change", () => {\n      if (formEditVacationDates[0].value != "" && formEditVacationDates[1].value != "") {\n        if (formEditVacationDates[0].value > formEditVacationDates[1].value) {\n          formEditVacationDates.classList.remove("was-validated")\n          document.querySelector(".validationRange").classList.remove("d-none")\n          formEditVacationDates[0].classList.remove("is-valid")\n          formEditVacationDates[1].classList.remove("is-valid")\n          formEditVacationDates[0].classList.add("is-invalid")\n          formEditVacationDates[1].classList.add("is-invalid")\n          validationRange = false\n        } else {\n          document.querySelector(".validationRange").classList.add("d-none")\n          formEditVacationDates[0].classList.remove("is-invalid")\n          formEditVacationDates[1].classList.remove("is-invalid")\n          formEditVacationDates[0].classList.add("is-valid")\n          formEditVacationDates[1].classList.add("is-valid")\n          validationRange = true\n        }\n      }\n    })\n  }\n\n  // обработка формы изменения новых дат каникул\n  formEditVacationDates.addEventListener("submit", function (e) {\n    e.preventDefault()\n\n    if (validationRange == true) {\n      this.classList.add("was-validated")\n      if (this.checkValidity()) {\n        let startDate = this[0].value\n        let endDate = this[1].value\n\n        if (flag == "add") {\n          addNewVacation(vacationName, startDate, endDate)\n          clickBtnEditVacation()\n          clickBtnDeleteVacation()\n        } else if (flag == "edit") {\n          editVacationDates(vacationName, startDate, endDate, displayVacationStartDate, displayVacationEndDate\n          )\n        }\n\n        modalEditVacationDates.hide()\n        this.classList.remove("was-validated")\n        this.reset()\n      }\n    }\n  })\n}\n\n/* harmony default export */ const modal_edit_vacations = (editVacations);\n\n;// ./src/modules/holidays/current-period.js\nconst now = new Date()\n\nlet firstSemesterYear\nlet secondSemesterYear\n\nif (now.getMonth() >= 0 && now.getMonth() < 6) {\n  firstSemesterYear = now.getFullYear() - 1\n  secondSemesterYear = now.getFullYear()\n} else {\n  firstSemesterYear = now.getFullYear()\n  secondSemesterYear = now.getFullYear() + 1\n}\n\n// вывод периода в заголовке\nconst title = document.getElementById("title")\ntitle.firstElementChild.innerText = firstSemesterYear\ntitle.lastElementChild.innerText = secondSemesterYear\n\n\n;// ./src/modules/main-form/default-periods.js\n\n\nconst defaultPeriods = () => {\n  document.getElementById("btnFirstSemester").addEventListener("click", () => {\n    document.getElementById("start-date").value = `${firstSemesterYear}-09-01`\n    document.getElementById("end-date").value = `${firstSemesterYear}-12-31`\n  })\n\n  document.getElementById("btnSecondSemester").addEventListener("click", () => {\n    document.getElementById("start-date").value = `${secondSemesterYear}-01-01`\n    document.getElementById("end-date").value = `${secondSemesterYear}-05-31`\n  })\n}\n\n/* harmony default export */ const default_periods = (defaultPeriods);\n;// ./src/modules/main-form/count-lessons.js\nconst countLessons = () => {\n  const numberOfLessons = document.getElementsByName("numberOfLessons")\n\n  document.getElementsByName("day").forEach((item, index) => {\n    item.addEventListener("change", () => {\n      if (numberOfLessons[index].hasAttribute("disabled")) {\n        numberOfLessons[index].removeAttribute("disabled")\n      } else {\n        numberOfLessons[index].setAttribute("disabled", "disabled")\n      }\n\n      document.getElementById(\'feedbackCheckbox\').classList.add("d-none")\n    })\n  })\n}\n\n/* harmony default export */ const count_lessons = (countLessons);\n;// ./src/modules/main-form/modal-count-lessons.js\nconst modalCountLessons = () => {\n  const modalNumberOfLessons = new bootstrap.Modal("#modalNumberOfLessons")\n  const selectsNumberOfLessons = document.querySelectorAll(".selectNumberOfLessons")\n  const inputsNumderOfLessons = document.querySelectorAll(".inputNumderOfLessons")\n  const inputsRadioWeek = document.getElementsByName("radioWeek")\n  const inputEveryWeek = document.getElementById("inputEveryWeek")\n  const inputOddWeeks = document.getElementById("inputOddWeeks")\n  const inputEvenWeeks = document.getElementById("inputEvenWeeks")\n  const formChangeNumber = document.forms.changeNumberOfLessons\n\n  let weekDay\n\n  // вызов модального окна ввода количества уроков\n  selectsNumberOfLessons.forEach((item, index) => {\n    item.addEventListener("change", () => {\n      if (item.value == "other") {\n        modalNumberOfLessons.show()\n        weekDay = index\n      }\n    })\n  })\n\n  // действия при закрытии модального окна без сохранения изменений\n  modalNumberOfLessons._element.addEventListener("hidden.bs.modal", (e) => {\n    formChangeNumber.reset()\n    formChangeNumber.classList.remove("was-validated")\n\n    for (let elem of inputsNumderOfLessons) {\n      elem.setAttribute("disabled", "disabled")\n    }\n\n    if (selectsNumberOfLessons[weekDay].value == "other") {\n      selectsNumberOfLessons[weekDay].value = "1"\n    }\n  })\n\n  // активация/деактивация полей ввода количества уроков\n  for (let node of inputsRadioWeek) {\n    node.addEventListener("change", () => {\n      for (let elem of inputsNumderOfLessons) {\n        elem.setAttribute("disabled", "disabled")\n        elem.value = ""\n      }\n      for (let elem of node.parentElement.getElementsByTagName("*")) {\n        if (elem.classList.contains("inputNumderOfLessons")) {\n          elem.removeAttribute("disabled")\n        }\n      }\n    })\n  }\n\n  // подставление 0 в поле при заполнении только четного/нечетного поля\n  formChangeNumber.inWeek.forEach((item, index) => {\n    item.addEventListener("input", () => {\n      formChangeNumber.inWeek.forEach((it, ind) => {\n        if (ind != index && it.value == "") {\n          it.value = "0"\n        }\n      })\n    })\n  })\n\n  // обработка данных полей ввода количества уроков\n  formChangeNumber.addEventListener("submit", function(e) {\n    e.preventDefault()\n    this.classList.add("was-validated")\n\n    if (this.checkValidity()) {\n      // добавление нового элемента option в зависимости от выбора\n      let option\n      for (let node of inputsRadioWeek) {\n        if (node.checked && node.id == "radioEveryWeek") {\n          option = new Option(\n            inputEveryWeek.value,\n            inputEveryWeek.value,\n            false,\n            true\n          )\n        } else if (node.checked && node.id == "radioInAWeek") {\n          option = new Option(\n            inputOddWeeks.value + "/" + inputEvenWeeks.value,\n            inputOddWeeks.value + "/" + inputEvenWeeks.value,\n            false,\n            true\n          )\n        }\n      }\n      // проверка не дублируется ли option\n      let n = 0\n      for (let elem of selectsNumberOfLessons[weekDay].options) {\n        if (elem.value == option.value) {\n          n++\n        }\n      }\n      if (n == 0) {\n        selectsNumberOfLessons[weekDay].prepend(option)\n      } else {\n        selectsNumberOfLessons[weekDay].value = option.value\n      }\n\n      modalNumberOfLessons.hide()\n    }\n  })\n}\n\n/* harmony default export */ const modal_count_lessons = (modalCountLessons);\n;// ./src/modules/holidays/holidays.js\n\n\n\n// официальные праздничные дни\nconst holidays = [\n  {\n    name: "День української державності",\n    date: firstSemesterYear + "-07-28",\n  },\n  {\n    name: "День Незaлежності України",\n    date: firstSemesterYear + "-08-24",\n  },\n  {\n    name: "День захисників і захисниць України",\n    date: firstSemesterYear + "-10-14",\n  },\n  {\n    name: "Різдво Христове",\n    date: firstSemesterYear + "-12-25",\n  },\n  {\n    name: "Новий рік",\n    date: secondSemesterYear + "-01-01",\n  },\n  {\n    name: "Різдво Христове",\n    date: secondSemesterYear + "-01-07",\n  },\n  {\n    name: "Міжнародний жіночий день",\n    date: secondSemesterYear + "-03-08",\n  },\n  {\n    name: "Великдень",\n    date: secondSemesterYear + "-04-16",\n  },\n  {\n    name: "День праці",\n    date: secondSemesterYear + "-05-01",\n  },\n  {\n    name: "День Перемоги",\n    date: secondSemesterYear + "-05-09",\n  },\n  {\n    name: "свято Трійці",\n    date: secondSemesterYear + "-06-04",\n  },\n  {\n    name: "День Конституції України",\n    date: secondSemesterYear + "-06-28",\n  },\n]\n\nconst arrHolidays = []\n\n// вывод празднтков на странице\nfor (let item of holidays) {\n  let date = new Date(item.date)\n\n  // arrHolidays.push(date.getTime())\n\n  document.getElementById("collapseHolidays").innerHTML += `\n          <p>${date.getDate()} ${getMonthName(date)} — ${item.name}</p>\n      `\n}\n\n\n\n;// ./src/modules/main-form/output.js\n\n\nconst outDate = document.getElementById("out-date")\nconst outCount = document.getElementById("out-count")\nconst outDay = document.getElementById("out-day")\nconst outTable = document.getElementById("out-table")\n\n// функция очистки поля\nconst outputReset = () => {\n  outDate.innerHTML = ""\n  outCount.innerHTML = ""\n  outDay.innerHTML = ""\n  outTable.innerHTML = ""\n}\n\n// функция выводв шапки таблицы\nconst outputHead = () => {\n  outCount.innerHTML += `\n                <tr>\n                    <th>п/н</th>\n                </tr>\n            `\n\n  outDate.innerHTML += `\n                <tr>\n                    <th>дата</th>\n                </tr>\n            `\n\n  outDay.innerHTML += `\n                <tr>\n                    <th>д/т</th>\n                </tr>\n            `\n\n  outTable.innerHTML += `\n                <tr>\n                    <th>п/н</th>\n                    <th>дата</th>\n                    <th>д/т</th>\n                </tr>\n            `\n}\n\n// функция выводв результата\nconst outputTable = (number, date, sn) => {\n  for (let i = 0; i < number; i++) {\n    outCount.innerHTML += `\n                <tr>\n                    <td>${sn}</td>\n                </tr>\n            `\n\n    outDate.innerHTML += `\n                <tr>\n                    <td>${convertDate(date)}</td>\n                </tr>\n            `\n\n    outDay.innerHTML += `\n                <tr>\n                    <td>${getWeekDayAbbr(date)}</td>\n                </tr>\n            `\n\n    outTable.innerHTML += `\n                <tr>\n                    <td>${sn}</td>\n                    <td>${convertDate(date)}</td>\n                    <td>${getWeekDayAbbr(date)}</td>\n                </tr>\n            `\n    \n    sn ++\n  }\n  return sn\n}\n;// ./src/modules/main-form/form.js\n\n\n\n\n\nconst form_form = () => {\n\n  const result = (startDate, endDate, daysWeek, sn) => {\n    // перебор всех дат в выбранном промежутке\n    for (let i = startDate; i <= endDate; i = i + 24 * 60 * 60 * 1000) {\n      // дата не должна входить в праздники и каникулы\n      if (!arrHolidays.includes(i) && !arrVacations.includes(i)) {\n        let date = new Date(i)\n\n        // проверка входит ли дата в массив дней недели\n        if (daysWeek.includes(date.getDay())) {\n          // значение количества уроков в день из select\n          let number = document.getElementsByName("numberOfLessons")[date.getDay() - 1].value\n          let numberValue = number.match(/\\d/g)\n\n          if (numberValue.length == 2) {\n            if (getWeek(i, startDate) == "odd") {\n              sn = outputTable(numberValue[0], i, sn)\n            } else if (getWeek(i, startDate) == "even") {\n              sn = outputTable(numberValue[1], i, sn)\n            }\n          } else {\n            sn= outputTable(numberValue[0], i, sn)\n          }\n        }\n      }\n    }\n  }\n\n  \n  document.getElementById("form-main").addEventListener("submit", function(e) {\n    e.preventDefault()\n\n    outputReset()\n    document.getElementById("exportXLSX").classList.add("d-none")\n\n    this.classList.add("was-validated")\n\n    if (this.checkValidity()) {\n\n      const startPeriod = document.getElementById("start-date")\n      const endPeriod = document.getElementById("end-date")\n\n      let daysWeek = []\n      let checked = false\n\n      // проверка ввода правильного диапазона дат\n      if (endPeriod.value < startPeriod.value) {\n        document.getElementById(\'feedbackRange\').classList.remove("d-none")\n        startPeriod.classList.add("is-invalid")\n        endPeriod.classList.add("is-invalid")\n        for (let item of document.getElementsByName(\'range\')) {\n          item.addEventListener(\'change\', () => {\n            if (endPeriod.value >= startPeriod.value) {\n              document.getElementById(\'feedbackRange\').classList.add("d-none")\n              startPeriod.classList.remove("is-invalid")\n              endPeriod.classList.remove("is-invalid")\n            }\n          })\n        }\n      }\n\n       // заполнение массива днецй недели\n      for (let elem of document.getElementsByName("day")) {\n        if (elem.checked) {\n          daysWeek.push(+elem.value)\n          checked = true\n        }\n      }\n\n      // проверка выбраны ли дни с выводом предупреждения\n      checked == false\n        ? document.getElementById(\'feedbackCheckbox\').classList.remove("d-none")\n        : document.getElementById(\'feedbackCheckbox\').classList.add("d-none")\n\n      if (checked == true && endPeriod.value >= startPeriod.value) {\n\n        document.getElementById(\'spinner\').classList.remove(\'d-none\')\n        document.getElementById(\'output\').classList.add(\'d-none\')\n        outputHead()\n        document.getElementById("exportXLSX").classList.remove("d-none")\n\n        const startDate = Date.parse(startPeriod.value)\n        const endDate = Date.parse(endPeriod.value)\n\n        let sn = document.getElementById("initialNumber").value\n\n        result(startDate, endDate, daysWeek, sn)\n\n        setTimeout(() => {\n          document.getElementById(\'spinner\').classList.add(\'d-none\')\n          document.getElementById(\'output\').classList.remove(\'d-none\')\n          document.getElementById(\'btnReset\').classList.remove(\'d-none\')\n        }, 500);\n\n      }\n\n      this.classList.remove("was-validated")\n    }\n  })\n}\n\n/* harmony default export */ const main_form_form = (form_form);\n\n;// ./src/modules/main-form/exportXLSX.js\nconst exportXLSX = () => {\n  document.getElementById("exportXLSX").addEventListener(\'click\', function() {\n    let wb = XLSX.utils.table_to_book(document.getElementById("out-table"));\n    XLSX.writeFile(wb, "calendar-plan.xlsx");\n  })\n}\n\n/* harmony default export */ const main_form_exportXLSX = (exportXLSX);\n;// ./src/modules/main-form/reset-form.js\n\r\n\r\nconst resetForm = () => {\r\n  document.getElementById(\'btnReset\').addEventListener(\'click\', function() {\r\n    for(let item of document.getElementsByName("numberOfLessons")) {\r\n      item.setAttribute("disabled", "disabled")\r\n    }\r\n    outputReset()\r\n    document.getElementById("exportXLSX").classList.add("d-none")\r\n    this.classList.add("d-none")\r\n  })\r\n}\r\n\r\n/* harmony default export */ const reset_form = (resetForm);\n;// ./src/index.js\n\n\n\n\n\n\n\n\n\nmodal_edit_vacations()\ndefault_periods()\ncount_lessons()\nmodal_count_lessons()\nmain_form_form()\nmain_form_exportXLSX()\nreset_form()//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YztBQUNkLGFBQVk7QUFDWixtQkFBaUI7QUFDakIsY0FBSTtBQUNKLG9CQUFVO0FBQ1YsVUFBUyIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbGVuZGFyLXBsYW4vLi9zcmMvbW9kdWxlcy9mdW5jdGlvbnMuanM/NTliOSIsIndlYnBhY2s6Ly9jYWxlbmRhci1wbGFuLy4vc3JjL21vZHVsZXMvaG9saWRheXMvdmFjYXRpb25zLmpzPzdlMWMiLCJ3ZWJwYWNrOi8vY2FsZW5kYXItcGxhbi8uL3NyYy9tb2R1bGVzL2hvbGlkYXlzL3ZhY2F0aW9uLWRlbGV0ZS5qcz84YTljIiwid2VicGFjazovL2NhbGVuZGFyLXBsYW4vLi9zcmMvbW9kdWxlcy9ob2xpZGF5cy92YWNhdGlvbi1lZGl0LmpzPzU3MDQiLCJ3ZWJwYWNrOi8vY2FsZW5kYXItcGxhbi8uL3NyYy9tb2R1bGVzL2hvbGlkYXlzL3ZhY2F0aW9uLWFkZC5qcz9jZGU5Iiwid2VicGFjazovL2NhbGVuZGFyLXBsYW4vLi9zcmMvbW9kdWxlcy9ob2xpZGF5cy9tb2RhbC1lZGl0LXZhY2F0aW9ucy5qcz9lMDU4Iiwid2VicGFjazovL2NhbGVuZGFyLXBsYW4vLi9zcmMvbW9kdWxlcy9ob2xpZGF5cy9jdXJyZW50LXBlcmlvZC5qcz9lMzYxIiwid2VicGFjazovL2NhbGVuZGFyLXBsYW4vLi9zcmMvbW9kdWxlcy9tYWluLWZvcm0vZGVmYXVsdC1wZXJpb2RzLmpzP2FkMDQiLCJ3ZWJwYWNrOi8vY2FsZW5kYXItcGxhbi8uL3NyYy9tb2R1bGVzL21haW4tZm9ybS9jb3VudC1sZXNzb25zLmpzP2UxM2QiLCJ3ZWJwYWNrOi8vY2FsZW5kYXItcGxhbi8uL3NyYy9tb2R1bGVzL21haW4tZm9ybS9tb2RhbC1jb3VudC1sZXNzb25zLmpzP2UxMjciLCJ3ZWJwYWNrOi8vY2FsZW5kYXItcGxhbi8uL3NyYy9tb2R1bGVzL2hvbGlkYXlzL2hvbGlkYXlzLmpzPzM0MzIiLCJ3ZWJwYWNrOi8vY2FsZW5kYXItcGxhbi8uL3NyYy9tb2R1bGVzL21haW4tZm9ybS9vdXRwdXQuanM/NzMwZSIsIndlYnBhY2s6Ly9jYWxlbmRhci1wbGFuLy4vc3JjL21vZHVsZXMvbWFpbi1mb3JtL2Zvcm0uanM/MzQ0NyIsIndlYnBhY2s6Ly9jYWxlbmRhci1wbGFuLy4vc3JjL21vZHVsZXMvbWFpbi1mb3JtL2V4cG9ydFhMU1guanM/OTM5ZCIsIndlYnBhY2s6Ly9jYWxlbmRhci1wbGFuLy4vc3JjL21vZHVsZXMvbWFpbi1mb3JtL3Jlc2V0LWZvcm0uanM/NjYwNCIsIndlYnBhY2s6Ly9jYWxlbmRhci1wbGFuLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiICAvLyDQv9GA0LXQvtCx0YDQsNC30L7QstCw0L3QuNC1INC00LDRgtGLINC6INCy0LjQtNGDINCU0JQu0JzQnC7Qk9CT0JPQk1xuICBleHBvcnQgY29uc3QgY29udmVydERhdGUgPSAoZGF0YSkgPT4ge1xuICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShkYXRhKVxuXG4gICAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXRlKClcbiAgICAgIGlmIChkYXkgPCAxMCkge1xuICAgICAgICAgIGRheSA9ICcwJyArIGRheVxuICAgICAgfVxuICAgICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMVxuICAgICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoXG4gICAgICB9XG4gICAgICBsZXQgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKVxuXG4gICAgICByZXR1cm4gIGRheSArICcuJyArIG1vbnRoICsgJy4nICsgeWVhclxuICB9XG5cblxuICAvLyDQstGL0YfQuNGB0LvQtdC90LjQtSDQvdC+0LzQtdGA0LAg0L3QtdC00LXQu9C4ICjRh9C10YLQvdCw0Y8gLSDQvdC10YfQtdGC0L3QsNGPKVxuICBleHBvcnQgY29uc3QgZ2V0V2VlayA9IChjdXJyZW50LCBzdGFydCkgPT4ge1xuICAgICAgbGV0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoY3VycmVudClcbiAgICAgIGxldCBzdGFydERhdGUgPSBuZXcgRGF0ZShzdGFydClcblxuICAgICAgbGV0IGRheU9mV2Vla09mU3RhcnREYXRlID0gc3RhcnREYXRlLmdldERheSgpXG4gICAgICBpZiAoZGF5T2ZXZWVrT2ZTdGFydERhdGUgPT0gMCkgZGF5T2ZXZWVrT2ZTdGFydERhdGUgPSA3XG5cbiAgICAgIGxldCBudW1iZXJPZkRheXMgPSBNYXRoLmZsb29yKChjdXJyZW50RGF0ZSAtIHN0YXJ0RGF0ZSkgLyAoMjQgKiA2MCAqIDYwICogMTAwMCkpICsgMVxuICAgICAgbGV0IHdlZWtOdW1iZXIgPSBNYXRoLmNlaWwoKCBudW1iZXJPZkRheXMgKyBkYXlPZldlZWtPZlN0YXJ0RGF0ZSAtIDEpIC8gNylcblxuICAgICAgcmV0dXJuIHdlZWtOdW1iZXIgJSAyID09PSAwID8gJ2V2ZW4nIDogJ29kZCdcbiAgfVxuXG5cbiAgLy8g0L/QvtC70YPRh9C10L3QuNC1INC90LDQt9Cy0LDQvdC40Y8g0LTQvdGPINC90LXQtNC10LvQuFxuICBleHBvcnQgZnVuY3Rpb24gZ2V0V2Vla0RheUFiYnIoZGF0YSkge1xuICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShkYXRhKVxuXG4gICAgICBsZXQgZGF5cyA9IFsn0L0nLCAn0L/QvScsICfQsicsICdjJywgJ9GHJywgJ9C/0YInLCAn0YHQsSddXG5cbiAgICAgIHJldHVybiBkYXlzW2RhdGUuZ2V0RGF5KCldXG4gIH1cblxuICAvLyDQv9C+0LvRg9GH0LXQvdC40LUg0L3QsNC30LLQsNC90LjRjyDQvNC10YHRj9GG0LBcbiAgZXhwb3J0IGNvbnN0IGdldE1vbnRoTmFtZSA9IChkYXRlKSA9PiB7XG4gICAgICBjb25zdCBtb250aHMgPSBbJ9GB0ZbRh9C90Y8nLCAn0LvRjtGC0L7Qs9C+JywgJ9Cx0LXRgNC10LfQvdGPJywgJ9C60LLRltGC0L3RjycsICfRgtGA0LDQstC90Y8nLCAn0YfQtdGA0LLQvdGPJywgJ9C70LjQv9C90Y8nLCAn0YHQtdGA0L/QvdGPJywgJ9Cy0LXRgNC10YHQvdGPJywgJ9C20L7QstGC0L3RjycsICfQu9C40YHRgtC+0L/QsNC00LAnLCAn0LPRgNGD0LTQvdGPJ11cblxuICAgICAgcmV0dXJuIG1vbnRoc1tkYXRlLmdldE1vbnRoKCldXG4gIH1cblxuIiwiaW1wb3J0IHsgY29udmVydERhdGUgfSBmcm9tIFwiLi4vZnVuY3Rpb25zXCJcblxuY29uc3QgdmFjYXRpb25zID0gW1xuICB7XG4gICAgbmFtZTogXCJmYWxsXCIsXG4gICAgc3RhcnREYXRlOiBcIjIwMjQtMTAtMjhcIixcbiAgICBlbmREYXRlOiBcIjIwMjQtMTEtMDNcIixcbiAgICBkYXRlczogW10sXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIndpbnRlclwiLFxuICAgIHN0YXJ0RGF0ZTogXCIyMDI0LTEyLTMwXCIsXG4gICAgZW5kRGF0ZTogXCIyMDI1LTAxLTEyXCIsXG4gICAgZGF0ZXM6IFtdLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJzcHJpbmdcIixcbiAgICBzdGFydERhdGU6IFwiMjAyNS0wMy0yNFwiLFxuICAgIGVuZERhdGU6IFwiMjAyNS0wMy0zMFwiLFxuICAgIGRhdGVzOiBbXSxcbiAgfSxcbl1cblxuLy8g0LfQsNC/0L7Qu9C90LXQvdC40LUg0LzQsNGB0YHQuNCy0LAg0LTQsNGCINC00LvRjyDQvtC/0YDQtdC00LXQu9C10L3QvdGL0YUg0LrQsNC90LjQutGD0LtcbmNvbnN0IGNyZWF0ZUFycmF5RGF0ZXMgPSAodmFjYXRpb25OYW1lKSA9PiB7XG4gIGxldCBmb3VuZFZhY2F0aW9uID0gdmFjYXRpb25zLmZpbmQoKGl0ZW0pID0+IGl0ZW0ubmFtZSA9PSB2YWNhdGlvbk5hbWUpXG4gIGZvdW5kVmFjYXRpb24uZGF0ZXMgPSBbXVxuICBmb3IgKGxldCBpID0gRGF0ZS5wYXJzZShmb3VuZFZhY2F0aW9uLnN0YXJ0RGF0ZSk7IGkgPD0gRGF0ZS5wYXJzZShmb3VuZFZhY2F0aW9uLmVuZERhdGUpO2kgPSBpICsgMTAwMCAqIDM2MDAgKiAyNFxuICApIHtcbiAgICBmb3VuZFZhY2F0aW9uLmRhdGVzLnB1c2goaSlcbiAgfVxufVxuXG5jcmVhdGVBcnJheURhdGVzKFwiZmFsbFwiKVxuY3JlYXRlQXJyYXlEYXRlcyhcIndpbnRlclwiKVxuY3JlYXRlQXJyYXlEYXRlcyhcInNwcmluZ1wiKVxuXG4vLz09PT09INCk0L7RgNC80LjRgNC+0LLQsNC90LjQtSDQvNCw0YHRgdC40LLQsCDQtNCw0YIg0LLRgdC10YUg0LrQsNC90LjQutGD0LsgPT09PT09PT09PT1cbmxldCBhcnJWYWNhdGlvbnMgPSBbXVxuY29uc3QgY3JlYXRlQXJyVmFjYXRpb25zID0gKCkgPT4ge1xuICBhcnJWYWNhdGlvbnMgPSBbXVxuICB2YWNhdGlvbnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGFyclZhY2F0aW9ucyA9IGFyclZhY2F0aW9ucy5jb25jYXQoaXRlbS5kYXRlcylcbiAgfSlcbn1cblxuY3JlYXRlQXJyVmFjYXRpb25zKClcblxuLy8g0LLRi9Cw0L7QtCDQutCw0L3QuNC60YPQuyDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbmZvciAobGV0IGl0ZW0gb2YgdmFjYXRpb25zKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmFjYXRpb25zXCIpLmlubmVySFRNTCArPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTJcIj5cbiAgICAgICAgICAgIDxkaXY+0LcgPHNwYW4+JHtjb252ZXJ0RGF0ZShpdGVtLnN0YXJ0RGF0ZSl9PC9zcGFuPiDQtNC+IDxzcGFuPiR7Y29udmVydERhdGUoaXRlbS5lbmREYXRlKX08L3NwYW4+IDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5hbWU9XCJidG5FZGl0VmFjYXRpb25cIiBkYXRhLXZhY2F0aW9uLW5hbWU9JyR7aXRlbS5uYW1lfScgZGF0YS1icy10b2dnbGU9XCJtb2RhbFwiIGRhdGEtYnMtdGFyZ2V0PVwiI21vZGFsRWRpdFZhY2F0aW9uRGF0ZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1wZW5jaWwtc3F1YXJlXCI+PC9pPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmFtZT1cImJ0bkRlbGV0ZVZhY2F0aW9uXCIgZGF0YS12YWNhdGlvbi1uYW1lPScke2l0ZW0ubmFtZX0nIGRhdGEtYnMtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLWJzLXRhcmdldD1cIiNtb2RhbERlbGV0ZVZhY2F0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYmkgYmkteC1zcXVhcmVcIj48L2k+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgYFxufVxuXG5leHBvcnQgeyB2YWNhdGlvbnMsIGFyclZhY2F0aW9ucywgY3JlYXRlQXJyYXlEYXRlcywgY3JlYXRlQXJyVmFjYXRpb25zIH0iLCJpbXBvcnQgeyB2YWNhdGlvbnMsIGNyZWF0ZUFyclZhY2F0aW9ucyB9IGZyb20gXCIuL3ZhY2F0aW9uc1wiXG5cbmxldCB2YWNhdGlvbk5hbWVcbmxldCBkaXZWYWNhdGlvblxuXG5jb25zdCBjbGlja0J0bkRlbGV0ZVZhY2F0aW9uID0gKCkgPT4ge1xuICBmb3IgKGxldCBidG4gb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJidG5EZWxldGVWYWNhdGlvblwiKSkge1xuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdmFjYXRpb25OYW1lID0gYnRuLmRhdGFzZXQudmFjYXRpb25OYW1lXG4gICAgICBkaXZWYWNhdGlvbiA9IGJ0bi5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICB9KVxuICB9XG59XG5jbGlja0J0bkRlbGV0ZVZhY2F0aW9uKClcblxuY29uc3QgZGVsZXRlVmFjYXRpb24gPSAodmFjYXRpb25OYW1lKSA9PiB7XG4gIGxldCBmb3VuZFZhY2F0aW9uID0gdmFjYXRpb25zLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5uYW1lID09IHZhY2F0aW9uTmFtZSlcbiAgdmFjYXRpb25zLnNwbGljZShmb3VuZFZhY2F0aW9uLCAxKVxuICBkaXZWYWNhdGlvbi5yZW1vdmUoKVxufVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bkNvbmZpcm1EZWxldGVWYWNhdGlvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRlbGV0ZVZhY2F0aW9uKHZhY2F0aW9uTmFtZSlcbiAgICBjcmVhdGVBcnJWYWNhdGlvbnMoKVxuICB9KVxuXG5leHBvcnQgeyBjbGlja0J0bkRlbGV0ZVZhY2F0aW9uIH1cbiIsImltcG9ydCB7IHZhY2F0aW9ucywgY3JlYXRlQXJyYXlEYXRlcywgY3JlYXRlQXJyVmFjYXRpb25zIH0gZnJvbSBcIi4vdmFjYXRpb25zXCJcbmltcG9ydCB7IGNvbnZlcnREYXRlIH0gZnJvbSBcIi4uL2Z1bmN0aW9uc1wiXG5cbmV4cG9ydCBjb25zdCBlZGl0VmFjYXRpb25EYXRlcyA9ICh2YWNhdGlvbk5hbWUsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgZGlzcGxheVZhY2F0aW9uU3RhcnREYXRlLCBkaXNwbGF5VmFjYXRpb25FbmREYXRlKSA9PiB7XG4gICAgbGV0IGZvdW5kVmFjYXRpb24gPSB2YWNhdGlvbnMuZmluZChpdGVtID0+IGl0ZW0ubmFtZSA9PSB2YWNhdGlvbk5hbWUpXG4gICAgZm91bmRWYWNhdGlvbi5zdGFydERhdGUgPSBzdGFydERhdGVcbiAgICBmb3VuZFZhY2F0aW9uLmVuZERhdGUgPSBlbmREYXRlXG4gICAgZGlzcGxheVZhY2F0aW9uU3RhcnREYXRlLmlubmVyVGV4dCA9IGNvbnZlcnREYXRlKHN0YXJ0RGF0ZSlcbiAgICBkaXNwbGF5VmFjYXRpb25FbmREYXRlLmlubmVyVGV4dCA9IGNvbnZlcnREYXRlKGVuZERhdGUpXG4gICAgY3JlYXRlQXJyYXlEYXRlcyh2YWNhdGlvbk5hbWUpXG4gICAgY3JlYXRlQXJyVmFjYXRpb25zKClcbn0iLCJpbXBvcnQgeyBjb252ZXJ0RGF0ZSB9IGZyb20gXCIuLi9mdW5jdGlvbnNcIlxuaW1wb3J0IHsgdmFjYXRpb25zLCBjcmVhdGVBcnJheURhdGVzLCBjcmVhdGVBcnJWYWNhdGlvbnMgfSBmcm9tIFwiLi92YWNhdGlvbnNcIlxuXG5leHBvcnQgY29uc3QgYWRkTmV3VmFjYXRpb24gPSAodmFjYXRpb25OYW1lLCBzdGFydERhdGUsIGVuZERhdGUpID0+IHtcblxuICAgIHZhY2F0aW9ucy5wdXNoKHtcbiAgICAgICAgbmFtZTogdmFjYXRpb25OYW1lLFxuICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSxcbiAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZSxcbiAgICAgICAgZGF0ZXM6IFtdXG4gICAgfSlcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2YWNhdGlvbnMnKS5pbm5lckhUTUwgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlciBtYi0yXCI+XG4gICAgICAgICAgICA8ZGl2PtC3IDxzcGFuPiR7Y29udmVydERhdGUoc3RhcnREYXRlKX08L3NwYW4+INC00L4gPHNwYW4+JHtjb252ZXJ0RGF0ZShlbmREYXRlKX08L3NwYW4+IDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5hbWU9XCJidG5FZGl0VmFjYXRpb25cIiBkYXRhLXZhY2F0aW9uLW5hbWU9JyR7dmFjYXRpb25OYW1lfScgZGF0YS1icy10b2dnbGU9XCJtb2RhbFwiIGRhdGEtYnMtdGFyZ2V0PVwiI21vZGFsRWRpdFZhY2F0aW9uRGF0ZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJiaSBiaS1wZW5jaWwtc3F1YXJlXCI+PC9pPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmFtZT1cImJ0bkRlbGV0ZVZhY2F0aW9uXCIgZGF0YS12YWNhdGlvbi1uYW1lPScke3ZhY2F0aW9uTmFtZX0nIGRhdGEtYnMtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLWJzLXRhcmdldD1cIiNtb2RhbERlbGV0ZVZhY2F0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiYmkgYmkteC1zcXVhcmVcIj48L2k+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgYFxuICAgIGNyZWF0ZUFycmF5RGF0ZXModmFjYXRpb25OYW1lKVxuICAgIGNyZWF0ZUFyclZhY2F0aW9ucygpXG59IiwiaW1wb3J0IHsgdmFjYXRpb25zLCBjcmVhdGVBcnJheURhdGVzLCBjcmVhdGVBcnJWYWNhdGlvbnMgfSBmcm9tIFwiLi92YWNhdGlvbnNcIlxuaW1wb3J0IHsgY2xpY2tCdG5EZWxldGVWYWNhdGlvbiB9IGZyb20gXCIuL3ZhY2F0aW9uLWRlbGV0ZVwiXG5pbXBvcnQgeyBlZGl0VmFjYXRpb25EYXRlcyB9IGZyb20gXCIuL3ZhY2F0aW9uLWVkaXRcIlxuaW1wb3J0IHsgYWRkTmV3VmFjYXRpb24gfSBmcm9tIFwiLi92YWNhdGlvbi1hZGRcIlxuXG5jb25zdCBlZGl0VmFjYXRpb25zID0gKCkgPT4ge1xuICBjb25zdCBtb2RhbEVkaXRWYWNhdGlvbkRhdGVzID0gbmV3IGJvb3RzdHJhcC5Nb2RhbChcIiNtb2RhbEVkaXRWYWNhdGlvbkRhdGVzXCIpXG4gIGNvbnN0IGZvcm1FZGl0VmFjYXRpb25EYXRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybUVkaXRWYWNhdGlvbkRhdGVzXCIpXG5cbiAgbGV0IHZhY2F0aW9uTmFtZVxuICBsZXQgbmV3VmFjYXRpb25OYW1lID0gMFxuICBsZXQgZGlzcGxheVZhY2F0aW9uU3RhcnREYXRlXG4gIGxldCBkaXNwbGF5VmFjYXRpb25FbmREYXRlXG4gIGxldCBmbGFnXG5cbiAgY29uc3QgY2xpY2tCdG5FZGl0VmFjYXRpb24gPSAoKSA9PiB7XG4gICAgZm9yIChsZXQgYnRuIG9mIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwiYnRuRWRpdFZhY2F0aW9uXCIpKSB7XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgZmxhZyA9IFwiZWRpdFwiXG4gICAgICAgIHZhY2F0aW9uTmFtZSA9IGJ0bi5kYXRhc2V0LnZhY2F0aW9uTmFtZVxuICAgICAgICBkaXNwbGF5VmFjYXRpb25TdGFydERhdGUgPSBidG4ucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmZpcnN0RWxlbWVudENoaWxkXG4gICAgICAgIGRpc3BsYXlWYWNhdGlvbkVuZERhdGUgPSBidG4ucGFyZW50RWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmxhc3RFbGVtZW50Q2hpbGRcblxuICAgICAgICBsZXQgZm91bmRWYWNhdGlvbiA9IHZhY2F0aW9ucy5maW5kKChpdGVtKSA9PiBpdGVtLm5hbWUgPT0gdmFjYXRpb25OYW1lKVxuICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMF0udmFsdWUgPSBmb3VuZFZhY2F0aW9uLnN0YXJ0RGF0ZVxuICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMV0udmFsdWUgPSBmb3VuZFZhY2F0aW9uLmVuZERhdGVcbiAgICAgIH0pXG4gICAgfVxuICB9XG4gIGNsaWNrQnRuRWRpdFZhY2F0aW9uKClcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bkFkZFZhY2F0aW9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZmxhZyA9IFwiYWRkXCJcbiAgICBuZXdWYWNhdGlvbk5hbWUgKytcbiAgICB2YWNhdGlvbk5hbWUgPSBuZXdWYWNhdGlvbk5hbWVcbiAgfSlcblxuICAvLyDQtNC10LnRgdGC0LLQuNGPINC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINCx0LXQtyDRgdC+0YXRgNCw0L3QtdC90LjRjyDQuNC30LzQtdC90LXQvdC40LlcbiAgbW9kYWxFZGl0VmFjYXRpb25EYXRlcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaGlkZGVuLmJzLm1vZGFsXCIsIChlKSA9PiB7XG4gICAgZm9ybUVkaXRWYWNhdGlvbkRhdGVzLnJlc2V0KClcbiAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXMuY2xhc3NMaXN0LnJlbW92ZShcIndhcy12YWxpZGF0ZWRcIilcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZhbGlkYXRpb25SYW5nZVwiKS5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpXG4gICAgZm9yIChsZXQgaXRlbSBvZiBmb3JtRWRpdFZhY2F0aW9uRGF0ZXMuaW5wdXRWYWNhdGlvbkRhdGUpIHtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIilcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImlzLXZhbGlkXCIpXG4gICAgfVxuICB9KVxuXG4gIC8vINC/0YDQvtCy0LXRgNC60LAg0LLQstC+0LTQsCDQv9GA0LDQstC40LvRjNC90L7Qs9C+INC00LjQsNC/0LDQt9C+0L3QsCDQtNCw0YJcbiAgbGV0IHZhbGlkYXRpb25SYW5nZSA9IHRydWVcbiAgZm9yIChsZXQgaXRlbSBvZiBmb3JtRWRpdFZhY2F0aW9uRGF0ZXMuaW5wdXRWYWNhdGlvbkRhdGUpIHtcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgaWYgKGZvcm1FZGl0VmFjYXRpb25EYXRlc1swXS52YWx1ZSAhPSBcIlwiICYmIGZvcm1FZGl0VmFjYXRpb25EYXRlc1sxXS52YWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgIGlmIChmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMF0udmFsdWUgPiBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMV0udmFsdWUpIHtcbiAgICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXMuY2xhc3NMaXN0LnJlbW92ZShcIndhcy12YWxpZGF0ZWRcIilcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZhbGlkYXRpb25SYW5nZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiZC1ub25lXCIpXG4gICAgICAgICAgZm9ybUVkaXRWYWNhdGlvbkRhdGVzWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy12YWxpZFwiKVxuICAgICAgICAgIGZvcm1FZGl0VmFjYXRpb25EYXRlc1sxXS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtdmFsaWRcIilcbiAgICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMF0uY2xhc3NMaXN0LmFkZChcImlzLWludmFsaWRcIilcbiAgICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMV0uY2xhc3NMaXN0LmFkZChcImlzLWludmFsaWRcIilcbiAgICAgICAgICB2YWxpZGF0aW9uUmFuZ2UgPSBmYWxzZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmFsaWRhdGlvblJhbmdlXCIpLmNsYXNzTGlzdC5hZGQoXCJkLW5vbmVcIilcbiAgICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMF0uY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIilcbiAgICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMV0uY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIilcbiAgICAgICAgICBmb3JtRWRpdFZhY2F0aW9uRGF0ZXNbMF0uY2xhc3NMaXN0LmFkZChcImlzLXZhbGlkXCIpXG4gICAgICAgICAgZm9ybUVkaXRWYWNhdGlvbkRhdGVzWzFdLmNsYXNzTGlzdC5hZGQoXCJpcy12YWxpZFwiKVxuICAgICAgICAgIHZhbGlkYXRpb25SYW5nZSA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICAvLyDQvtCx0YDQsNCx0L7RgtC60LAg0YTQvtGA0LzRiyDQuNC30LzQtdC90LXQvdC40Y8g0L3QvtCy0YvRhSDQtNCw0YIg0LrQsNC90LjQutGD0LtcbiAgZm9ybUVkaXRWYWNhdGlvbkRhdGVzLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmICh2YWxpZGF0aW9uUmFuZ2UgPT0gdHJ1ZSkge1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwid2FzLXZhbGlkYXRlZFwiKVxuICAgICAgaWYgKHRoaXMuY2hlY2tWYWxpZGl0eSgpKSB7XG4gICAgICAgIGxldCBzdGFydERhdGUgPSB0aGlzWzBdLnZhbHVlXG4gICAgICAgIGxldCBlbmREYXRlID0gdGhpc1sxXS52YWx1ZVxuXG4gICAgICAgIGlmIChmbGFnID09IFwiYWRkXCIpIHtcbiAgICAgICAgICBhZGROZXdWYWNhdGlvbih2YWNhdGlvbk5hbWUsIHN0YXJ0RGF0ZSwgZW5kRGF0ZSlcbiAgICAgICAgICBjbGlja0J0bkVkaXRWYWNhdGlvbigpXG4gICAgICAgICAgY2xpY2tCdG5EZWxldGVWYWNhdGlvbigpXG4gICAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PSBcImVkaXRcIikge1xuICAgICAgICAgIGVkaXRWYWNhdGlvbkRhdGVzKHZhY2F0aW9uTmFtZSwgc3RhcnREYXRlLCBlbmREYXRlLCBkaXNwbGF5VmFjYXRpb25TdGFydERhdGUsIGRpc3BsYXlWYWNhdGlvbkVuZERhdGVcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICBtb2RhbEVkaXRWYWNhdGlvbkRhdGVzLmhpZGUoKVxuICAgICAgICB0aGlzLmNsYXNzTGlzdC5yZW1vdmUoXCJ3YXMtdmFsaWRhdGVkXCIpXG4gICAgICAgIHRoaXMucmVzZXQoKVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgZWRpdFZhY2F0aW9uc1xuIiwiY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuXG5sZXQgZmlyc3RTZW1lc3RlclllYXJcbmxldCBzZWNvbmRTZW1lc3RlclllYXJcblxuaWYgKG5vdy5nZXRNb250aCgpID49IDAgJiYgbm93LmdldE1vbnRoKCkgPCA2KSB7XG4gIGZpcnN0U2VtZXN0ZXJZZWFyID0gbm93LmdldEZ1bGxZZWFyKCkgLSAxXG4gIHNlY29uZFNlbWVzdGVyWWVhciA9IG5vdy5nZXRGdWxsWWVhcigpXG59IGVsc2Uge1xuICBmaXJzdFNlbWVzdGVyWWVhciA9IG5vdy5nZXRGdWxsWWVhcigpXG4gIHNlY29uZFNlbWVzdGVyWWVhciA9IG5vdy5nZXRGdWxsWWVhcigpICsgMVxufVxuXG4vLyDQstGL0LLQvtC0INC/0LXRgNC40L7QtNCwINCyINC30LDQs9C+0LvQvtCy0LrQtVxuY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpXG50aXRsZS5maXJzdEVsZW1lbnRDaGlsZC5pbm5lclRleHQgPSBmaXJzdFNlbWVzdGVyWWVhclxudGl0bGUubGFzdEVsZW1lbnRDaGlsZC5pbm5lclRleHQgPSBzZWNvbmRTZW1lc3RlclllYXJcblxuZXhwb3J0IHsgZmlyc3RTZW1lc3RlclllYXIsIHNlY29uZFNlbWVzdGVyWWVhciB9IiwiaW1wb3J0IHtmaXJzdFNlbWVzdGVyWWVhciwgc2Vjb25kU2VtZXN0ZXJZZWFyfSBmcm9tICcuLi9ob2xpZGF5cy9jdXJyZW50LXBlcmlvZCdcblxuY29uc3QgZGVmYXVsdFBlcmlvZHMgPSAoKSA9PiB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuRmlyc3RTZW1lc3RlclwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnQtZGF0ZVwiKS52YWx1ZSA9IGAke2ZpcnN0U2VtZXN0ZXJZZWFyfS0wOS0wMWBcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVuZC1kYXRlXCIpLnZhbHVlID0gYCR7Zmlyc3RTZW1lc3RlclllYXJ9LTEyLTMxYFxuICB9KVxuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuU2Vjb25kU2VtZXN0ZXJcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXJ0LWRhdGVcIikudmFsdWUgPSBgJHtzZWNvbmRTZW1lc3RlclllYXJ9LTAxLTAxYFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5kLWRhdGVcIikudmFsdWUgPSBgJHtzZWNvbmRTZW1lc3RlclllYXJ9LTA1LTMxYFxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0UGVyaW9kcyIsImNvbnN0IGNvdW50TGVzc29ucyA9ICgpID0+IHtcbiAgY29uc3QgbnVtYmVyT2ZMZXNzb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJudW1iZXJPZkxlc3NvbnNcIilcblxuICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcImRheVwiKS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBpZiAobnVtYmVyT2ZMZXNzb25zW2luZGV4XS5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkge1xuICAgICAgICBudW1iZXJPZkxlc3NvbnNbaW5kZXhdLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1iZXJPZkxlc3NvbnNbaW5kZXhdLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIilcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWRiYWNrQ2hlY2tib3gnKS5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpXG4gICAgfSlcbiAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQgY291bnRMZXNzb25zIiwiY29uc3QgbW9kYWxDb3VudExlc3NvbnMgPSAoKSA9PiB7XG4gIGNvbnN0IG1vZGFsTnVtYmVyT2ZMZXNzb25zID0gbmV3IGJvb3RzdHJhcC5Nb2RhbChcIiNtb2RhbE51bWJlck9mTGVzc29uc1wiKVxuICBjb25zdCBzZWxlY3RzTnVtYmVyT2ZMZXNzb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zZWxlY3ROdW1iZXJPZkxlc3NvbnNcIilcbiAgY29uc3QgaW5wdXRzTnVtZGVyT2ZMZXNzb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbnB1dE51bWRlck9mTGVzc29uc1wiKVxuICBjb25zdCBpbnB1dHNSYWRpb1dlZWsgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcInJhZGlvV2Vla1wiKVxuICBjb25zdCBpbnB1dEV2ZXJ5V2VlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRFdmVyeVdlZWtcIilcbiAgY29uc3QgaW5wdXRPZGRXZWVrcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRPZGRXZWVrc1wiKVxuICBjb25zdCBpbnB1dEV2ZW5XZWVrcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXRFdmVuV2Vla3NcIilcbiAgY29uc3QgZm9ybUNoYW5nZU51bWJlciA9IGRvY3VtZW50LmZvcm1zLmNoYW5nZU51bWJlck9mTGVzc29uc1xuXG4gIGxldCB3ZWVrRGF5XG5cbiAgLy8g0LLRi9C30L7QsiDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDQstCy0L7QtNCwINC60L7Qu9C40YfQtdGB0YLQstCwINGD0YDQvtC60L7QslxuICBzZWxlY3RzTnVtYmVyT2ZMZXNzb25zLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGlmIChpdGVtLnZhbHVlID09IFwib3RoZXJcIikge1xuICAgICAgICBtb2RhbE51bWJlck9mTGVzc29ucy5zaG93KClcbiAgICAgICAgd2Vla0RheSA9IGluZGV4XG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICAvLyDQtNC10LnRgdGC0LLQuNGPINC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwINCx0LXQtyDRgdC+0YXRgNCw0L3QtdC90LjRjyDQuNC30LzQtdC90LXQvdC40LlcbiAgbW9kYWxOdW1iZXJPZkxlc3NvbnMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImhpZGRlbi5icy5tb2RhbFwiLCAoZSkgPT4ge1xuICAgIGZvcm1DaGFuZ2VOdW1iZXIucmVzZXQoKVxuICAgIGZvcm1DaGFuZ2VOdW1iZXIuY2xhc3NMaXN0LnJlbW92ZShcIndhcy12YWxpZGF0ZWRcIilcblxuICAgIGZvciAobGV0IGVsZW0gb2YgaW5wdXRzTnVtZGVyT2ZMZXNzb25zKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiZGlzYWJsZWRcIilcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0c051bWJlck9mTGVzc29uc1t3ZWVrRGF5XS52YWx1ZSA9PSBcIm90aGVyXCIpIHtcbiAgICAgIHNlbGVjdHNOdW1iZXJPZkxlc3NvbnNbd2Vla0RheV0udmFsdWUgPSBcIjFcIlxuICAgIH1cbiAgfSlcblxuICAvLyDQsNC60YLQuNCy0LDRhtC40Y8v0LTQtdCw0LrRgtC40LLQsNGG0LjRjyDQv9C+0LvQtdC5INCy0LLQvtC00LAg0LrQvtC70LjRh9C10YHRgtCy0LAg0YPRgNC+0LrQvtCyXG4gIGZvciAobGV0IG5vZGUgb2YgaW5wdXRzUmFkaW9XZWVrKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGZvciAobGV0IGVsZW0gb2YgaW5wdXRzTnVtZGVyT2ZMZXNzb25zKSB7XG4gICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJkaXNhYmxlZFwiKVxuICAgICAgICBlbGVtLnZhbHVlID0gXCJcIlxuICAgICAgfVxuICAgICAgZm9yIChsZXQgZWxlbSBvZiBub2RlLnBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpKSB7XG4gICAgICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucyhcImlucHV0TnVtZGVyT2ZMZXNzb25zXCIpKSB7XG4gICAgICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIC8vINC/0L7QtNGB0YLQsNCy0LvQtdC90LjQtSAwINCyINC/0L7Qu9C1INC/0YDQuCDQt9Cw0L/QvtC70L3QtdC90LjQuCDRgtC+0LvRjNC60L4g0YfQtdGC0L3QvtCz0L4v0L3QtdGH0LXRgtC90L7Qs9C+INC/0L7Qu9GPXG4gIGZvcm1DaGFuZ2VOdW1iZXIuaW5XZWVrLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgZm9ybUNoYW5nZU51bWJlci5pbldlZWsuZm9yRWFjaCgoaXQsIGluZCkgPT4ge1xuICAgICAgICBpZiAoaW5kICE9IGluZGV4ICYmIGl0LnZhbHVlID09IFwiXCIpIHtcbiAgICAgICAgICBpdC52YWx1ZSA9IFwiMFwiXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcblxuICAvLyDQvtCx0YDQsNCx0L7RgtC60LAg0LTQsNC90L3Ri9GFINC/0L7Qu9C10Lkg0LLQstC+0LTQsCDQutC+0LvQuNGH0LXRgdGC0LLQsCDRg9GA0L7QutC+0LJcbiAgZm9ybUNoYW5nZU51bWJlci5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJ3YXMtdmFsaWRhdGVkXCIpXG5cbiAgICBpZiAodGhpcy5jaGVja1ZhbGlkaXR5KCkpIHtcbiAgICAgIC8vINC00L7QsdCw0LLQu9C10L3QuNC1INC90L7QstC+0LPQviDRjdC70LXQvNC10L3RgtCwIG9wdGlvbiDQsiDQt9Cw0LLQuNGB0LjQvNC+0YHRgtC4INC+0YIg0LLRi9Cx0L7RgNCwXG4gICAgICBsZXQgb3B0aW9uXG4gICAgICBmb3IgKGxldCBub2RlIG9mIGlucHV0c1JhZGlvV2Vlaykge1xuICAgICAgICBpZiAobm9kZS5jaGVja2VkICYmIG5vZGUuaWQgPT0gXCJyYWRpb0V2ZXJ5V2Vla1wiKSB7XG4gICAgICAgICAgb3B0aW9uID0gbmV3IE9wdGlvbihcbiAgICAgICAgICAgIGlucHV0RXZlcnlXZWVrLnZhbHVlLFxuICAgICAgICAgICAgaW5wdXRFdmVyeVdlZWsudmFsdWUsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGVja2VkICYmIG5vZGUuaWQgPT0gXCJyYWRpb0luQVdlZWtcIikge1xuICAgICAgICAgIG9wdGlvbiA9IG5ldyBPcHRpb24oXG4gICAgICAgICAgICBpbnB1dE9kZFdlZWtzLnZhbHVlICsgXCIvXCIgKyBpbnB1dEV2ZW5XZWVrcy52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0T2RkV2Vla3MudmFsdWUgKyBcIi9cIiArIGlucHV0RXZlbldlZWtzLnZhbHVlLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyDQv9GA0L7QstC10YDQutCwINC90LUg0LTRg9Cx0LvQuNGA0YPQtdGC0YHRjyDQu9C4IG9wdGlvblxuICAgICAgbGV0IG4gPSAwXG4gICAgICBmb3IgKGxldCBlbGVtIG9mIHNlbGVjdHNOdW1iZXJPZkxlc3NvbnNbd2Vla0RheV0ub3B0aW9ucykge1xuICAgICAgICBpZiAoZWxlbS52YWx1ZSA9PSBvcHRpb24udmFsdWUpIHtcbiAgICAgICAgICBuKytcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG4gPT0gMCkge1xuICAgICAgICBzZWxlY3RzTnVtYmVyT2ZMZXNzb25zW3dlZWtEYXldLnByZXBlbmQob3B0aW9uKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0c051bWJlck9mTGVzc29uc1t3ZWVrRGF5XS52YWx1ZSA9IG9wdGlvbi52YWx1ZVxuICAgICAgfVxuXG4gICAgICBtb2RhbE51bWJlck9mTGVzc29ucy5oaWRlKClcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IG1vZGFsQ291bnRMZXNzb25zIiwiaW1wb3J0IHsgZ2V0TW9udGhOYW1lIH0gZnJvbSBcIi4uL2Z1bmN0aW9uc1wiXG5pbXBvcnQgeyBmaXJzdFNlbWVzdGVyWWVhciwgc2Vjb25kU2VtZXN0ZXJZZWFyIH0gZnJvbSBcIi4vY3VycmVudC1wZXJpb2RcIlxuXG4vLyDQvtGE0LjRhtC40LDQu9GM0L3Ri9C1INC/0YDQsNC30LTQvdC40YfQvdGL0LUg0LTQvdC4XG5jb25zdCBob2xpZGF5cyA9IFtcbiAge1xuICAgIG5hbWU6IFwi0JTQtdC90Ywg0YPQutGA0LDRl9C90YHRjNC60L7RlyDQtNC10YDQttCw0LLQvdC+0YHRgtGWXCIsXG4gICAgZGF0ZTogZmlyc3RTZW1lc3RlclllYXIgKyBcIi0wNy0yOFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQlNC10L3RjCDQndC10Ldh0LvQtdC20L3QvtGB0YLRliDQo9C60YDQsNGX0L3QuFwiLFxuICAgIGRhdGU6IGZpcnN0U2VtZXN0ZXJZZWFyICsgXCItMDgtMjRcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JTQtdC90Ywg0LfQsNGF0LjRgdC90LjQutGW0LIg0ZYg0LfQsNGF0LjRgdC90LjRhtGMINCj0LrRgNCw0ZfQvdC4XCIsXG4gICAgZGF0ZTogZmlyc3RTZW1lc3RlclllYXIgKyBcIi0xMC0xNFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQoNGW0LfQtNCy0L4g0KXRgNC40YHRgtC+0LLQtVwiLFxuICAgIGRhdGU6IGZpcnN0U2VtZXN0ZXJZZWFyICsgXCItMTItMjVcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0J3QvtCy0LjQuSDRgNGW0LpcIixcbiAgICBkYXRlOiBzZWNvbmRTZW1lc3RlclllYXIgKyBcIi0wMS0wMVwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQoNGW0LfQtNCy0L4g0KXRgNC40YHRgtC+0LLQtVwiLFxuICAgIGRhdGU6IHNlY29uZFNlbWVzdGVyWWVhciArIFwiLTAxLTA3XCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItCc0ZbQttC90LDRgNC+0LTQvdC40Lkg0LbRltC90L7Rh9C40Lkg0LTQtdC90YxcIixcbiAgICBkYXRlOiBzZWNvbmRTZW1lc3RlclllYXIgKyBcIi0wMy0wOFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQktC10LvQuNC60LTQtdC90YxcIixcbiAgICBkYXRlOiBzZWNvbmRTZW1lc3RlclllYXIgKyBcIi0wNC0xNlwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQlNC10L3RjCDQv9GA0LDRhtGWXCIsXG4gICAgZGF0ZTogc2Vjb25kU2VtZXN0ZXJZZWFyICsgXCItMDUtMDFcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JTQtdC90Ywg0J/QtdGA0LXQvNC+0LPQuFwiLFxuICAgIGRhdGU6IHNlY29uZFNlbWVzdGVyWWVhciArIFwiLTA1LTA5XCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcItGB0LLRj9GC0L4g0KLRgNGW0LnRhtGWXCIsXG4gICAgZGF0ZTogc2Vjb25kU2VtZXN0ZXJZZWFyICsgXCItMDYtMDRcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JTQtdC90Ywg0JrQvtC90YHRgtC40YLRg9GG0ZbRlyDQo9C60YDQsNGX0L3QuFwiLFxuICAgIGRhdGU6IHNlY29uZFNlbWVzdGVyWWVhciArIFwiLTA2LTI4XCIsXG4gIH0sXG5dXG5cbmNvbnN0IGFyckhvbGlkYXlzID0gW11cblxuLy8g0LLRi9Cy0L7QtCDQv9GA0LDQt9C00L3RgtC60L7QsiDQvdCwINGB0YLRgNCw0L3QuNGG0LVcbmZvciAobGV0IGl0ZW0gb2YgaG9saWRheXMpIHtcbiAgbGV0IGRhdGUgPSBuZXcgRGF0ZShpdGVtLmRhdGUpXG5cbiAgLy8gYXJySG9saWRheXMucHVzaChkYXRlLmdldFRpbWUoKSlcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxhcHNlSG9saWRheXNcIikuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICA8cD4ke2RhdGUuZ2V0RGF0ZSgpfSAke2dldE1vbnRoTmFtZShkYXRlKX0g4oCUICR7aXRlbS5uYW1lfTwvcD5cbiAgICAgIGBcbn1cblxuZXhwb3J0IHsgYXJySG9saWRheXMgfVxuIiwiaW1wb3J0IHsgY29udmVydERhdGUsIGdldFdlZWtEYXlBYmJyIH0gZnJvbSBcIi4uL2Z1bmN0aW9uc1wiXG5cbmNvbnN0IG91dERhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm91dC1kYXRlXCIpXG5jb25zdCBvdXRDb3VudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3V0LWNvdW50XCIpXG5jb25zdCBvdXREYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm91dC1kYXlcIilcbmNvbnN0IG91dFRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXQtdGFibGVcIilcblxuLy8g0YTRg9C90LrRhtC40Y8g0L7Rh9C40YHRgtC60Lgg0L/QvtC70Y9cbmV4cG9ydCBjb25zdCBvdXRwdXRSZXNldCA9ICgpID0+IHtcbiAgb3V0RGF0ZS5pbm5lckhUTUwgPSBcIlwiXG4gIG91dENvdW50LmlubmVySFRNTCA9IFwiXCJcbiAgb3V0RGF5LmlubmVySFRNTCA9IFwiXCJcbiAgb3V0VGFibGUuaW5uZXJIVE1MID0gXCJcIlxufVxuXG4vLyDRhNGD0L3QutGG0LjRjyDQstGL0LLQvtC00LIg0YjQsNC/0LrQuCDRgtCw0LHQu9C40YbRi1xuZXhwb3J0IGNvbnN0IG91dHB1dEhlYWQgPSAoKSA9PiB7XG4gIG91dENvdW50LmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+0L8v0L08L3RoPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICBgXG5cbiAgb3V0RGF0ZS5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPtC00LDRgtCwPC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgYFxuXG4gIG91dERheS5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgPHRoPtC0L9GCPC90aD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgYFxuXG4gIG91dFRhYmxlLmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGg+0L8v0L08L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGg+0LTQsNGC0LA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGg+0LQv0YI8L3RoPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICBgXG59XG5cbi8vINGE0YPQvdC60YbQuNGPINCy0YvQstC+0LTQsiDRgNC10LfRg9C70YzRgtCw0YLQsFxuZXhwb3J0IGNvbnN0IG91dHB1dFRhYmxlID0gKG51bWJlciwgZGF0ZSwgc24pID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1iZXI7IGkrKykge1xuICAgIG91dENvdW50LmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHtzbn08L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICBgXG5cbiAgICBvdXREYXRlLmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHtjb252ZXJ0RGF0ZShkYXRlKX08L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICBgXG5cbiAgICBvdXREYXkuaW5uZXJIVE1MICs9IGBcbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZD4ke2dldFdlZWtEYXlBYmJyKGRhdGUpfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIGBcblxuICAgIG91dFRhYmxlLmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHtzbn08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHtjb252ZXJ0RGF0ZShkYXRlKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQ+JHtnZXRXZWVrRGF5QWJicihkYXRlKX08L3RkPlxuICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICBgXG4gICAgXG4gICAgc24gKytcbiAgfVxuICByZXR1cm4gc25cbn0iLCJpbXBvcnQgeyBhcnJIb2xpZGF5cyB9IGZyb20gXCIuLi9ob2xpZGF5cy9ob2xpZGF5c1wiXG5pbXBvcnQgeyBhcnJWYWNhdGlvbnMgfSBmcm9tIFwiLi4vaG9saWRheXMvdmFjYXRpb25zXCJcbmltcG9ydCB7IG91dHB1dFJlc2V0LCBvdXRwdXRIZWFkLCBvdXRwdXRUYWJsZSB9IGZyb20gXCIuL291dHB1dFwiXG5pbXBvcnQgeyBnZXRXZWVrIH0gZnJvbSBcIi4uL2Z1bmN0aW9uc1wiXG5cbmNvbnN0IGZvcm0gPSAoKSA9PiB7XG5cbiAgY29uc3QgcmVzdWx0ID0gKHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgZGF5c1dlZWssIHNuKSA9PiB7XG4gICAgLy8g0L/QtdGA0LXQsdC+0YAg0LLRgdC10YUg0LTQsNGCINCyINCy0YvQsdGA0LDQvdC90L7QvCDQv9GA0L7QvNC10LbRg9GC0LrQtVxuICAgIGZvciAobGV0IGkgPSBzdGFydERhdGU7IGkgPD0gZW5kRGF0ZTsgaSA9IGkgKyAyNCAqIDYwICogNjAgKiAxMDAwKSB7XG4gICAgICAvLyDQtNCw0YLQsCDQvdC1INC00L7Qu9C20L3QsCDQstGF0L7QtNC40YLRjCDQsiDQv9GA0LDQt9C00L3QuNC60Lgg0Lgg0LrQsNC90LjQutGD0LvRi1xuICAgICAgaWYgKCFhcnJIb2xpZGF5cy5pbmNsdWRlcyhpKSAmJiAhYXJyVmFjYXRpb25zLmluY2x1ZGVzKGkpKSB7XG4gICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoaSlcblxuICAgICAgICAvLyDQv9GA0L7QstC10YDQutCwINCy0YXQvtC00LjRgiDQu9C4INC00LDRgtCwINCyINC80LDRgdGB0LjQsiDQtNC90LXQuSDQvdC10LTQtdC70LhcbiAgICAgICAgaWYgKGRheXNXZWVrLmluY2x1ZGVzKGRhdGUuZ2V0RGF5KCkpKSB7XG4gICAgICAgICAgLy8g0LfQvdCw0YfQtdC90LjQtSDQutC+0LvQuNGH0LXRgdGC0LLQsCDRg9GA0L7QutC+0LIg0LIg0LTQtdC90Ywg0LjQtyBzZWxlY3RcbiAgICAgICAgICBsZXQgbnVtYmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJudW1iZXJPZkxlc3NvbnNcIilbZGF0ZS5nZXREYXkoKSAtIDFdLnZhbHVlXG4gICAgICAgICAgbGV0IG51bWJlclZhbHVlID0gbnVtYmVyLm1hdGNoKC9cXGQvZylcblxuICAgICAgICAgIGlmIChudW1iZXJWYWx1ZS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgaWYgKGdldFdlZWsoaSwgc3RhcnREYXRlKSA9PSBcIm9kZFwiKSB7XG4gICAgICAgICAgICAgIHNuID0gb3V0cHV0VGFibGUobnVtYmVyVmFsdWVbMF0sIGksIHNuKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChnZXRXZWVrKGksIHN0YXJ0RGF0ZSkgPT0gXCJldmVuXCIpIHtcbiAgICAgICAgICAgICAgc24gPSBvdXRwdXRUYWJsZShudW1iZXJWYWx1ZVsxXSwgaSwgc24pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNuPSBvdXRwdXRUYWJsZShudW1iZXJWYWx1ZVswXSwgaSwgc24pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybS1tYWluXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgb3V0cHV0UmVzZXQoKVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwb3J0WExTWFwiKS5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpXG5cbiAgICB0aGlzLmNsYXNzTGlzdC5hZGQoXCJ3YXMtdmFsaWRhdGVkXCIpXG5cbiAgICBpZiAodGhpcy5jaGVja1ZhbGlkaXR5KCkpIHtcblxuICAgICAgY29uc3Qgc3RhcnRQZXJpb2QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXJ0LWRhdGVcIilcbiAgICAgIGNvbnN0IGVuZFBlcmlvZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5kLWRhdGVcIilcblxuICAgICAgbGV0IGRheXNXZWVrID0gW11cbiAgICAgIGxldCBjaGVja2VkID0gZmFsc2VcblxuICAgICAgLy8g0L/RgNC+0LLQtdGA0LrQsCDQstCy0L7QtNCwINC/0YDQsNCy0LjQu9GM0L3QvtCz0L4g0LTQuNCw0L/QsNC30L7QvdCwINC00LDRglxuICAgICAgaWYgKGVuZFBlcmlvZC52YWx1ZSA8IHN0YXJ0UGVyaW9kLnZhbHVlKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmZWVkYmFja1JhbmdlJykuY2xhc3NMaXN0LnJlbW92ZShcImQtbm9uZVwiKVxuICAgICAgICBzdGFydFBlcmlvZC5jbGFzc0xpc3QuYWRkKFwiaXMtaW52YWxpZFwiKVxuICAgICAgICBlbmRQZXJpb2QuY2xhc3NMaXN0LmFkZChcImlzLWludmFsaWRcIilcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgncmFuZ2UnKSkge1xuICAgICAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGVuZFBlcmlvZC52YWx1ZSA+PSBzdGFydFBlcmlvZC52YWx1ZSkge1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmVlZGJhY2tSYW5nZScpLmNsYXNzTGlzdC5hZGQoXCJkLW5vbmVcIilcbiAgICAgICAgICAgICAgc3RhcnRQZXJpb2QuY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIilcbiAgICAgICAgICAgICAgZW5kUGVyaW9kLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1pbnZhbGlkXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAgLy8g0LfQsNC/0L7Qu9C90LXQvdC40LUg0LzQsNGB0YHQuNCy0LAg0LTQvdC10YbQuSDQvdC10LTQtdC70LhcbiAgICAgIGZvciAobGV0IGVsZW0gb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJkYXlcIikpIHtcbiAgICAgICAgaWYgKGVsZW0uY2hlY2tlZCkge1xuICAgICAgICAgIGRheXNXZWVrLnB1c2goK2VsZW0udmFsdWUpXG4gICAgICAgICAgY2hlY2tlZCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDQv9GA0L7QstC10YDQutCwINCy0YvQsdGA0LDQvdGLINC70Lgg0LTQvdC4INGBINCy0YvQstC+0LTQvtC8INC/0YDQtdC00YPQv9GA0LXQttC00LXQvdC40Y9cbiAgICAgIGNoZWNrZWQgPT0gZmFsc2VcbiAgICAgICAgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmVlZGJhY2tDaGVja2JveCcpLmNsYXNzTGlzdC5yZW1vdmUoXCJkLW5vbmVcIilcbiAgICAgICAgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmVlZGJhY2tDaGVja2JveCcpLmNsYXNzTGlzdC5hZGQoXCJkLW5vbmVcIilcblxuICAgICAgaWYgKGNoZWNrZWQgPT0gdHJ1ZSAmJiBlbmRQZXJpb2QudmFsdWUgPj0gc3RhcnRQZXJpb2QudmFsdWUpIHtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3Bpbm5lcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2Qtbm9uZScpXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdXRwdXQnKS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKVxuICAgICAgICBvdXRwdXRIZWFkKClcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBvcnRYTFNYXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJkLW5vbmVcIilcblxuICAgICAgICBjb25zdCBzdGFydERhdGUgPSBEYXRlLnBhcnNlKHN0YXJ0UGVyaW9kLnZhbHVlKVxuICAgICAgICBjb25zdCBlbmREYXRlID0gRGF0ZS5wYXJzZShlbmRQZXJpb2QudmFsdWUpXG5cbiAgICAgICAgbGV0IHNuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbml0aWFsTnVtYmVyXCIpLnZhbHVlXG5cbiAgICAgICAgcmVzdWx0KHN0YXJ0RGF0ZSwgZW5kRGF0ZSwgZGF5c1dlZWssIHNuKVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGlubmVyJykuY2xhc3NMaXN0LmFkZCgnZC1ub25lJylcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0JykuY2xhc3NMaXN0LnJlbW92ZSgnZC1ub25lJylcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuUmVzZXQnKS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKVxuICAgICAgICB9LCA1MDApO1xuXG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZShcIndhcy12YWxpZGF0ZWRcIilcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZvcm1cbiIsImNvbnN0IGV4cG9ydFhMU1ggPSAoKSA9PiB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwb3J0WExTWFwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIGxldCB3YiA9IFhMU1gudXRpbHMudGFibGVfdG9fYm9vayhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm91dC10YWJsZVwiKSk7XG4gICAgWExTWC53cml0ZUZpbGUod2IsIFwiY2FsZW5kYXItcGxhbi54bHN4XCIpO1xuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCBleHBvcnRYTFNYIiwiaW1wb3J0IHsgb3V0cHV0UmVzZXQgfSBmcm9tIFwiLi9vdXRwdXRcIlxyXG5cclxuY29uc3QgcmVzZXRGb3JtID0gKCkgPT4ge1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5SZXNldCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICBmb3IobGV0IGl0ZW0gb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXCJudW1iZXJPZkxlc3NvbnNcIikpIHtcclxuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpXHJcbiAgICB9XHJcbiAgICBvdXRwdXRSZXNldCgpXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4cG9ydFhMU1hcIikuY2xhc3NMaXN0LmFkZChcImQtbm9uZVwiKVxyXG4gICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiZC1ub25lXCIpXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcmVzZXRGb3JtIiwiaW1wb3J0IGVkaXRWYWNhdGlvbnMgZnJvbSBcIi4vbW9kdWxlcy9ob2xpZGF5cy9tb2RhbC1lZGl0LXZhY2F0aW9uc1wiXG5pbXBvcnQgZGVmYXVsdFBlcmlvZHMgZnJvbSBcIi4vbW9kdWxlcy9tYWluLWZvcm0vZGVmYXVsdC1wZXJpb2RzXCJcbmltcG9ydCBjb3VudExlc3NvbnMgZnJvbSBcIi4vbW9kdWxlcy9tYWluLWZvcm0vY291bnQtbGVzc29uc1wiXG5pbXBvcnQgbW9kYWxDb3VudExlc3NvbnMgZnJvbSBcIi4vbW9kdWxlcy9tYWluLWZvcm0vbW9kYWwtY291bnQtbGVzc29uc1wiXG5pbXBvcnQgZm9ybSBmcm9tIFwiLi9tb2R1bGVzL21haW4tZm9ybS9mb3JtXCJcbmltcG9ydCBleHBvcnRYTFNYIGZyb20gXCIuL21vZHVsZXMvbWFpbi1mb3JtL2V4cG9ydFhMU1hcIlxuaW1wb3J0IHJlc2V0Rm9ybSBmcm9tIFwiLi9tb2R1bGVzL21haW4tZm9ybS9yZXNldC1mb3JtXCJcblxuXG5lZGl0VmFjYXRpb25zKClcbmRlZmF1bHRQZXJpb2RzKClcbmNvdW50TGVzc29ucygpXG5tb2RhbENvdW50TGVzc29ucygpXG5mb3JtKClcbmV4cG9ydFhMU1goKVxucmVzZXRGb3JtKCkiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///794\n')}},__webpack_exports__={};__webpack_modules__[794]()})();